{"ast":null,"code":"import{useState}from'react';import{signupFields}from\"../constants/formFields\";import FormAction from\"./FormAction\";import Input from\"./Input\";import{SyntheticEvent}from\"react\";import{Navigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const fields=signupFields;let fieldsState={};fields.forEach(field=>fieldsState[field.id]='');export default function Signup(){const[signupState,setSignupState]=useState(fieldsState);const[redirect,setRedirect]=useState(false);const handleChange=e=>setSignupState({...signupState,[e.target.id]:e.target.value});const handleSubmit=e=>{e.preventDefault();console.log(signupState);createAccount();};//handle Signup API Integration here\nconst createAccount=async e=>{await fetch('http://localhost:8089/api/register',{method:'POST',headers:{'Content-Type':'application/json','Access-Control-Allow-Origin':'http://localhost:8089/api/register','Access-Control-Credentials':'true','Access-Control-Allow-Methods':'POST','Access-Control-Allow-Headers':'Content-type'},body:JSON.stringify({signupState})});setRedirect(true);};if(redirect){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});}return/*#__PURE__*/_jsx(\"form\",{className:\"mt-8 space-y-6\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[fields.map(field=>/*#__PURE__*/_jsx(Input,{handleChange:handleChange,value:signupState[field.id],labelText:field.labelText,labelFor:field.labelFor,id:field.id,name:field.name,type:field.type,isRequired:field.isRequired,placeholder:field.placeholder},field.id)),/*#__PURE__*/_jsx(FormAction,{handleSubmit:handleSubmit,text:\"Signup\"})]})});}","map":{"version":3,"names":["useState","signupFields","FormAction","Input","SyntheticEvent","Navigate","jsx","_jsx","jsxs","_jsxs","fields","fieldsState","forEach","field","id","Signup","signupState","setSignupState","redirect","setRedirect","handleChange","e","target","value","handleSubmit","preventDefault","console","log","createAccount","fetch","method","headers","body","JSON","stringify","to","replace","className","onSubmit","children","map","labelText","labelFor","name","type","isRequired","placeholder","text"],"sources":["/home/nusatrip/WebstormProjects/react-tailwind-app/src/components/Signup.js"],"sourcesContent":["import { useState } from 'react';\nimport { signupFields } from \"../constants/formFields\"\nimport FormAction from \"./FormAction\";\nimport Input from \"./Input\";\nimport {SyntheticEvent} from \"react\";\nimport {Navigate} from \"react-router-dom\";\n\nconst fields=signupFields;\nlet fieldsState={};\n\nfields.forEach(field => fieldsState[field.id]='');\n\nexport default function Signup(){\n    const [signupState,setSignupState]=useState(fieldsState);\n    const [redirect,setRedirect]=useState(false)\n\n    const handleChange=(e)=>setSignupState({...signupState,[e.target.id]:e.target.value});\n\n    const handleSubmit=(e)=>{\n        e.preventDefault();\n        console.log(signupState)\n        createAccount()\n    }\n\n    //handle Signup API Integration here\n    const createAccount=async (e: SyntheticEvent)=>{\n        await fetch('http://localhost:8089/api/register', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Access-Control-Allow-Origin': 'http://localhost:8089/api/register',\n                'Access-Control-Credentials': 'true',\n                'Access-Control-Allow-Methods':'POST',\n                'Access-Control-Allow-Headers':'Content-type',\n            },\n\n            body: JSON.stringify({\n                signupState\n            })\n        })\n\n        setRedirect(true)\n    }\n\n    if(redirect) {\n        return (\n            <Navigate to=\"/dashboard\" replace={true} />\n        )\n    }\n\n\n    return(\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n            <div className=\"\">\n                {\n                    fields.map(field=>\n                        <Input\n                            key={field.id}\n                            handleChange={handleChange}\n                            value={signupState[field.id]}\n                            labelText={field.labelText}\n                            labelFor={field.labelFor}\n                            id={field.id}\n                            name={field.name}\n                            type={field.type}\n                            isRequired={field.isRequired}\n                            placeholder={field.placeholder}\n                        />\n\n                    )\n                }\n                <FormAction handleSubmit={handleSubmit} text=\"Signup\" />\n            </div>\n\n\n\n        </form>\n    )\n}"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,YAAY,KAAQ,yBAAyB,CACtD,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,OAAQC,cAAc,KAAO,OAAO,CACpC,OAAQC,QAAQ,KAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1C,KAAM,CAAAC,MAAM,CAACT,YAAY,CACzB,GAAI,CAAAU,WAAW,CAAC,CAAC,CAAC,CAElBD,MAAM,CAACE,OAAO,CAACC,KAAK,EAAIF,WAAW,CAACE,KAAK,CAACC,EAAE,CAAC,CAAC,EAAE,CAAC,CAEjD,cAAe,SAAS,CAAAC,MAAMA,CAAA,CAAE,CAC5B,KAAM,CAACC,WAAW,CAACC,cAAc,CAAC,CAACjB,QAAQ,CAACW,WAAW,CAAC,CACxD,KAAM,CAACO,QAAQ,CAACC,WAAW,CAAC,CAACnB,QAAQ,CAAC,KAAK,CAAC,CAE5C,KAAM,CAAAoB,YAAY,CAAEC,CAAC,EAAGJ,cAAc,CAAC,CAAC,GAAGD,WAAW,CAAC,CAACK,CAAC,CAACC,MAAM,CAACR,EAAE,EAAEO,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAErF,KAAM,CAAAC,YAAY,CAAEH,CAAC,EAAG,CACpBA,CAAC,CAACI,cAAc,CAAC,CAAC,CAClBC,OAAO,CAACC,GAAG,CAACX,WAAW,CAAC,CACxBY,aAAa,CAAC,CAAC,CACnB,CAAC,CAED;AACA,KAAM,CAAAA,aAAa,CAAC,KAAO,CAAAP,CAAiB,EAAG,CAC3C,KAAM,CAAAQ,KAAK,CAAC,oCAAoC,CAAE,CAC9CC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBAAkB,CAClC,6BAA6B,CAAE,oCAAoC,CACnE,4BAA4B,CAAE,MAAM,CACpC,8BAA8B,CAAC,MAAM,CACrC,8BAA8B,CAAC,cACnC,CAAC,CAEDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBlB,WACJ,CAAC,CACL,CAAC,CAAC,CAEFG,WAAW,CAAC,IAAI,CAAC,CACrB,CAAC,CAED,GAAGD,QAAQ,CAAE,CACT,mBACIX,IAAA,CAACF,QAAQ,EAAC8B,EAAE,CAAC,YAAY,CAACC,OAAO,CAAE,IAAK,CAAE,CAAC,CAEnD,CAGA,mBACI7B,IAAA,SAAM8B,SAAS,CAAC,gBAAgB,CAACC,QAAQ,CAAEd,YAAa,CAAAe,QAAA,cACpD9B,KAAA,QAAK4B,SAAS,CAAC,EAAE,CAAAE,QAAA,EAET7B,MAAM,CAAC8B,GAAG,CAAC3B,KAAK,eACZN,IAAA,CAACJ,KAAK,EAEFiB,YAAY,CAAEA,YAAa,CAC3BG,KAAK,CAAEP,WAAW,CAACH,KAAK,CAACC,EAAE,CAAE,CAC7B2B,SAAS,CAAE5B,KAAK,CAAC4B,SAAU,CAC3BC,QAAQ,CAAE7B,KAAK,CAAC6B,QAAS,CACzB5B,EAAE,CAAED,KAAK,CAACC,EAAG,CACb6B,IAAI,CAAE9B,KAAK,CAAC8B,IAAK,CACjBC,IAAI,CAAE/B,KAAK,CAAC+B,IAAK,CACjBC,UAAU,CAAEhC,KAAK,CAACgC,UAAW,CAC7BC,WAAW,CAAEjC,KAAK,CAACiC,WAAY,EAT1BjC,KAAK,CAACC,EAUd,CAEL,CAAC,cAELP,IAAA,CAACL,UAAU,EAACsB,YAAY,CAAEA,YAAa,CAACuB,IAAI,CAAC,QAAQ,CAAE,CAAC,EACvD,CAAC,CAIJ,CAAC,CAEf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}